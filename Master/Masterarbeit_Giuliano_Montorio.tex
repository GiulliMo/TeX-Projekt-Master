%	Autor:		Giuliano Montorio & Hannes Dittmann
%	Datum:		28.08.2018
%	Short:		Entwicklungsprojekt
% DOCUMENTCLASS -----------------------------------------------------------------------------------------
\documentclass[12pt,a4paper,oneside,numbers=noenddot,headsepline,captions=tableheading,toc=bibliography,openany,tikz,margin=5mm]{scrbook}
\usepackage{amsmath} 
\setcounter{secnumdepth}{5}
\renewcommand{\arraystretch}{1.4} 

% alles in helvetica
\renewcommand{\familydefault}{\sfdefault}



\usepackage{geometry}
\geometry{a4paper,left=25mm,right=25mm, top=25mm, bottom=25mm, includeheadfoot}
%\usepackage[scaled = 0.9]{helvet}

% SPRACHE------------------------------------------------------------------------------------------------
\usepackage[utf8]{inputenc}
\usepackage[autostyle,babel,german=guillemets,style=german]{csquotes}
\usepackage[USenglish,ngerman]{babel} 
\selectlanguage{ngerman}


% TABELLEN-----------------------------------------------------------------------------------------------
\usepackage{multirow} % Tabellen-Zellen �ber mehrere Zeilen1
\usepackage{multicol} % mehre Spalten auf eine Seite
\usepackage{makecell}
\usepackage{tabularx} % F�r Tabellen mit vorgegeben Gr��en
\usepackage{array}
\usepackage{float}
\usepackage{booktabs}
\usepackage{longtable} % Tabellen �ber mehrere Seiten
\usepackage{rotating}
\usepackage[table,xcdraw]{xcolor}
\usepackage{subcaption}
\usepackage{tikz}
\usetikzlibrary{circuits.ee.IEC}
\usetikzlibrary{positioning,calc,shapes,arrows,shapes.multipart}
\usepackage{pgfplots}
\pgfplotsset{
	dirac/.style={
		mark=triangle*,
		mark options={scale=2},
		ycomb,
		scatter,
		visualization depends on={y/abs(y)-1 \as \sign},
		scatter/@pre marker code/.code={\scope[rotate=90*\sign,yshift=-2pt]}
	}
}
\usetikzlibrary{arrows.meta,positioning,calc,scopes}
\def\iangle{0} % Angle of the inclined plane

\def\down{0}
\def\arcr{0.5cm} % Radius of the arc used to indicate angles
\usepackage{pdflscape}

% BILDER-------------------------------------------------------------------------------------------------
\usepackage{graphicx}
\usepackage{color}
\usepackage{svg}
\usetikzlibrary{arrows, shapes, 3d, calc, fit, positioning}
\usepackage{lipsum}
\usepackage{docmute}
\usepackage{graphicx}


% ALLGEMEINES--------------------------------------------------------------------------------------------
\usepackage{amsmath,amssymb} % Mathesachen
\usepackage[T1]{fontenc} % Ligaturen, richtige Umlaute im PDF
\usepackage[scaled = 0.9]{helvet}
\usepackage{url}		% bricht lange URLs ?sch�n? um [hyphens,obeyspaces,spaces]
\usepackage[decimalsymbol=comma]{siunitx}
\usepackage[onehalfspacing]{setspace}
\setlength{\parindent}{0cm}	% Disable automatic parindent
\usepackage{placeins}
\sloppy
\usepackage{mathrsfs}
\usepackage{xcolor}
\usepackage{pdfpages}
\usepackage{enumitem}
\graphicspath{{_img/}}
% PDF-----------------------------------------------------------------------------------------------------
\usepackage{pdfpages}
\usepackage[ngerman,%
pdfauthor={Giuliano Montorio},%
pdftitle={Masterarbeit G. Montorio},%
colorlinks=true,linkcolor=black,citecolor=black,filecolor=black,urlcolor=black%
]{hyperref}

% ABKÜRZUNGEN --------------------------------------------------------------------------------------------
\usepackage[nohyperlinks]{acronym}


% BIBLATEX -----------------------------------------------------------------------------------------------
\usepackage[backend=bibtex,%
style=IEEEtran,%
bibstyle=numeric,%
citestyle=numeric,%
sorting=none,%
]{biblatex}
\bibliography{_bib/biblio}

%CONSENS--------------------------------------------------------------------------
\usetikzlibrary{shapes.symbols}
\definecolor{CSblueColor}{rgb}{0.8,.92549,1}
\definecolor{CSyellowColor}{rgb}{1,1,0.6}
\tikzstyle{CONSENSc} = [double arrow,text=black!40,draw=black!40,thick,double arrow head extend=.0cm,align=center,font=\scriptsize,double arrow tip angle= 120,minimum width=10mm,minimum height=25mm]
\tikzstyle{CONSENS} = [double arrow,text=black,draw=black,thick,double arrow head extend=.0cm,align=center,font=\scriptsize,double arrow tip angle= 120,minimum width=10mm,minimum height=25mm]
\tikzstyle{CONSENSlegend} = [double arrow,text=black, draw=black,thick,double arrow head extend=.0cm,double arrow tip angle= 120,minimum width=8.8mm,minimum height=4.35mm]
\tikzstyle{CONSENSsysc} = [CONSENSc,fill=CSblueColor!40]
\tikzstyle{CONSENSenvc} = [CONSENSc,fill=CSyellowColor!40]
\tikzstyle{CONSENSsys} = [CONSENS,fill=CSblueColor]
\tikzstyle{CONSENSenv} = [CONSENS,fill=CSyellowColor]
\tikzstyle{CONSENSlegendenv}=[CONSENSlegend,fill=CSyellowColor]
\tikzstyle{CONSENSlegendsys} = [CONSENSlegend,fill=CSblueColor]
\tikzstyle{CSarrowc} = [-{triangle 45},text=black!40,draw=black!40]
\tikzstyle{CSarrow} = [-{triangle 45},text=black,draw=black]
% QUELLCODE -------------------------------------------------------------------
\usepackage{listings}
\definecolor{mygreen}{RGB}{28,172,0} 		% color values Red, Green, Blue
\definecolor{mylilas}{RGB}{170,55,241}
\lstset{language=Matlab,%
	basicstyle=\footnotesize\ttfamily,
	breaklines=true,%
	morekeywords={matlab2tikz},
	keywordstyle=\color{blue},%
	morekeywords=[2]{1}, keywordstyle=[2]{\color{black}},
	identifierstyle=\color{black},%
	stringstyle=\color{mylilas},
	commentstyle=\color{mygreen},%
	showstringspaces=false,%without this there will be a symbol in the places where there is a space
	numbers=left,%
	numberstyle={\tiny \color{black}},% size of the numbers
	numbersep=9pt, % this defines how far the numbers are from the text
	emph=[1]{for,end,break},emphstyle=[1]\color{red}, %some words to emphasise
	%emph=[2]{word1,word2}, emphstyle=[2]{style},    
}
\usepackage{nicematrix}
\usepackage{varwidth}
\newcommand\UmbruchConsens[2][2cm]{\begin{varwidth}{#1}\centering#2\end{varwidth}}
\newcommand\Umbruch[2][2cm]{\begin{varwidth}{#1}\centering#2\end{varwidth}}
\usepackage{makecell}

\usepackage{eqparbox}
\usetikzlibrary{matrix,positioning,arrows.meta,bending}
\newbox\matrixcellbox
\tikzset{math center align per column/.style={nodes={execute at begin
			node={\setbox\matrixcellbox=\hbox\bgroup$},
			execute at end
			node={$\egroup\eqmakebox[\tikzmatrixname\the\pgfmatrixcurrentcolumn][c]{\copy\matrixcellbox}}}},
	math center align per matrix/.style={nodes={execute at begin
			node={\setbox\matrixcellbox=\hbox\bgroup$},
			execute at end
			node={$\egroup\eqmakebox[\tikzmatrixname][c]{\copy\matrixcellbox}}}},
	3d matrix/.style={matrix of nodes,nodes in empty cells,math center align per
		matrix,nodes={draw,anchor=center,outer sep=0pt,inner sep=1pt,
			text height={height("\raisebox{0.2ex}{A}")},text depth={depth("g")}},
		column sep=-\pgflinewidth,row sep=-\pgflinewidth,execute at end matrix={
			\foreach \XX in {1,...,\the\pgfmatrixcurrentcolumn}
			{\draw (\tikzmatrixname-1-\XX.north east) -- ++ (#1,#1);}
			\ifnum\the\pgfmatrixcurrentrow>1
			\foreach \XX in {1,...,\the\numexpr\the\pgfmatrixcurrentrow-1}
			{\draw (\tikzmatrixname-\XX-\the\pgfmatrixcurrentcolumn.south east) -- ++ (#1,#1);}
			\fi
			\draw (\tikzmatrixname-1-1.north west) -- ++ (#1,#1) -- 
			([xshift=1ex,yshift=1ex]\tikzmatrixname-1-\the\pgfmatrixcurrentcolumn.north east) --
			([xshift=1ex,yshift=1ex]\tikzmatrixname-\the\pgfmatrixcurrentrow-\the\pgfmatrixcurrentcolumn.south east)  --
			(\tikzmatrixname-\the\pgfmatrixcurrentrow-\the\pgfmatrixcurrentcolumn.south east); 
	}},3d matrix/.default=1ex,
	Rightarrow/.style={double,double
		distance=#1,>={Implies[bend]},shorten <=0.4ex},Rightarrow/.default=1ex}




	
%Anfang PAP
\tikzset{
	papDecision/.style = {
		diamond,
		draw, 
		text width = 23 mm, 
		%align = flush left, 
		%text centered,
		inner sep = -2 pt,
		%font=\helvet,
		%line width = 1,
		minimum width = 30mm,
		minimum height = 7mm,
	},
	papStart/.style = {
		rectangle,
		draw, 
		align = center, 
		text width = 3cm, 
		text badly centered,
		inner sep = 4 pt,
		rounded corners=10pt,
		%font=\ttfamily\footnotesize,
		%line width = 1,
		minimum width = 30mm,
		minimum height = 7mm,
	},
	papEnd/.style = {
		rectangle,
		draw, 
		align = center, 
		text width = 3cm, 
		text badly centered,
		inner sep = 4 pt,
		rounded corners=10pt,
		%font=\ttfamily\footnotesize,
		%line width = 1,
		minimum width = 30mm,
		minimum height = 7mm,
	},
	papData/.style = {
		trapezium,
		draw, 
		align = center, 
		text width = 20 mm, 
		text badly centered,
		inner sep = 4 pt,
		trapezium left angle=70,
		trapezium right angle=110,
		%font=\ttfamily\footnotesize,
		%line width = 1,
		minimum width = 30mm,
		minimum height = 7mm,
	},
	papPredProc/.style = {
		draw,
		rectangle split,
		rectangle split horizontal,
		rectangle split parts = 3,
		rectangle split empty part width=-8pt,
		align = center, 
		%       text width = 4.5 em, 
		text badly centered,
		%        inner sep = 4 pt,
		%font=\ttfamily\footnotesize,
		%line width = 1,
		minimum width = 30mm,
		minimum height = 7mm,
	},
	papProcess/.style = {
		rectangle,
		draw,
		align = center, 
		text width = 3cm, 
		text badly centered,
		%inner sep = 2 pt,
		%font=\ttfamily\footnotesize,
		%line width = 1,
		minimum width = 30mm,
		minimum height = 7mm,
	},
	papLine/.style = {
		draw,
		-stealth,
		%font=\ttfamily\footnotesize,
		%line width = 1,
	},
}
\newcommand{\papYes}{ja}
\newcommand{\papNo}{nein}
%Ende PAP
	
\usepackage{tikz}
\usetikzlibrary{matrix,chains,positioning,decorations.pathreplacing,arrows}
% DOCUMENT ------------------------------------------------------------------------------------------------
\begin{document}
	
	%\pagestyle{empty}
	
	
	\cleardoublepage
	
	% ----------------------------------------------------------------------------------------------------------
	% TITELSEITE -----------------------------------------------------------------------------------------------
	% ----------------------------------------------------------------------------------------------------------
\begin{titlepage}
	\singlespacing
	
	
	\begin{figure}
		\centering
		\begin{minipage}[b]{0.5\textwidth}
			\includegraphics[width=\textwidth]{Bilder/Logo_Smart_RGB}
			
		\end{minipage}
		\hfill
		\begin{minipage}[b]{0.4\textwidth}
			\includegraphics[width=\textwidth]{Bilder/logo}
			
		\end{minipage}
	\end{figure}
	
	\begin{center}
		\vspace*{2cm}
		\Huge
		\textbf{Masterarbeit}\\
		\vspace*{0.5cm}
		\large
		zur Erlangung des akademischen Grades\\
		Master of Science (M.Sc.)\\
		\vspace*{2cm}
		\huge
		\textbf{Entwicklung einer Bildverarbeitung mit dem Schwerpunkt Personenerkennung für ein autonomes Logistik-Fahrzeug}\\
		\vspace*{1cm}
		\vfill
		\normalsize
		\newcolumntype{x}[1]{>{\raggedleft\arraybackslash\hspace{0pt}}p{#1}}
		
		\begin{tabular}{x{6cm}p{7.5cm}}
			\rule{0mm}{5ex}
			\textbf{Autor:} & Giuliano Montorio
			\newline giuliano.montorio@hs-bochum.de
			\newline Matrikelnummer: 015202887
			\newline\\
			
			
			\rule{0mm}{5ex}\textbf{Erstgutachter:} & Prof.\ Dr.-Ing.\ Arno Bergmann\\
			\rule{0mm}{2ex}\textbf{Zweitgutachter:} & M.Sc.\ Bernd Möllenbeck \\
			\rule{0mm}{5ex}\textbf{Abgabedatum:} & tt.mm.jjjj\\ 
		\end{tabular} 
	\end{center}
\end{titlepage}

	\onehalfspacing
	\cleardoublepage
	\cleardoublepage
	
	
	
	\chapter*{\textbf{Eidesstattliche Erklärung}}
	%\LARGE
	\textbf{Eidesstattliche Erklärung zur Abschlussarbeit:}
	\newline
	\newline
	\newline
	\flqq Entwicklung einer Bildverarbeitung mit dem Schwerpunkt Personenerkennung für ein autonomes Logistik-Fahrzeug\frqq
	\newline
	\newline
	\newline
	%\large
	Ich versichere, die von mir vorgelegte Arbeit selbstständig verfasst zu haben. Alle
	Stellen, die wörtlich oder sinngemäß aus veröffentlichten oder nicht veröffentlichten
	Arbeiten anderer entnommen sind, habe ich als entnommen kenntlich gemacht.
	Sämtliche Quellen und Hilfsmittel, die ich für die Arbeit benutzt habe, sind angegeben.
	Die Arbeit hat mit gleichem Inhalt bzw. in wesentlichen Teilen noch keiner anderen
	Prüfungsbehörde vorgelegen.
	\newline
	\newline
	\newline
	\newline
	\newline
	\newline
	\newline
	\newline
	\begin{center}
		\begin{tabular}[h]{lp{2cm}p{5.5cm}}
			Bochum, \today & & \\
			\cline{1-1}\cline{3-3}
			Ort, Datum& & Giuliano Montorio\\
		\end{tabular}
	\end{center}
	
	
	\chapter*{\textbf{Danksagung}}
	
	
	%\large
	
	Ein großes Dankeschön gilt all jenen Personen, die mich im Rahmen dieser Masterarbeit
	unterstützt und motiviert haben. Insbesondere möchte ich Herrn Prof. Dr.-Ing. Arno Bergmann, Herrn M.Sc. Bernd Möllenbeck und Herrn Dr.-Ing. Christoph Krimpmann danken, die meine Arbeit durch ihre fachliche und persönliche Unterstützung begleitet haben. Ich danke Guido Stollt und der gesamten Smart Mechatronics GmbH für die tolle Zusammenarbeit. Auch beim Fachbereich Elektrotechnik und Informatik der Hochschule Bochum insbesondere Herrn Dipl.-Ing. Thorsten Bartsch möchte ich mich bedanken. Meiner Familie spreche ich meinen Dank aus, da sie mir mein Studium durch finanzieller doch vor allem mentaler Unterstützung ermöglicht haben. Bei meinem Bruder bedanke ich mich für die Bereitstellung seiner Räumlichkeiten für eine fortlaufende Entwicklung am autonomen Logistikfahrzeug während der Coronapandemie. Ein spezieller Dank gebührt Hannes Dittmann. Mit Ihm habe ich nicht nur einen wegweisenden Mitstreiter gefunden, sondern auch einen tollen Freund.
	
	
	% ----------------------------------------------------------------------------------------------------------
	% VERZEICHNISSE --------------------------------------------------------------------------------------------
	% ----------------------------------------------------------------------------------------------------------
	\pagenumbering{roman}
	\tableofcontents
	\cleardoublepage
	
	
	
	\chapter*{Abkürzungsverzeichnis}
	\addcontentsline{toc}{chapter}{Abkürzungsverzeichnis}
	\begin{acronym}[CONSENS]% längste Abkürzung
		\acro{ALF}{Autonomes Logistik Fahrzeug}		%\acro{Kuerzel}{Langform}
		\acro{CNN}{Convolutional Neural Networks}
		\acro{COCO}{Common Objects in Context}
		\acro{CONSENS}{Conceptual Design Specification Technique for the Engineering of Complex Systems}
		\acro{cuDNN}{NVIDIA CUDA Deep Neural Network}
		\acro{EA}{Endlicher Automat}
		\acro{FN}{False Negative}
		\acro{FP}{False Positive}
		\acro{FPS}{frames per second}
		\acro{HoG}{Histogram of oriented Gradients}
		\acro{IoU}{Intersection over Union}
		\acro{KI}{Künstliche Intelligenz}
		\acro{KNN}{Künstliches neuronales Netz}
		\acro{LiDAR}{Light Detection and Ranging}
		\acro{mAP}{mean Average Precision}
		\acro{MMI}{Mensch-Maschine-Interface}
		\acro{ReLU}{Rectifier Linear Unit}
		\acro{ROS}{Robot Operating System}
		\acro{SAE}{Society of Automotive Engineers}
		\acro{SSD}{Single Shot Detector}
		\acro{SVM}{Support Vector Machine}
		\acro{TN}{True Negative}
		\acro{TP}{True Positive}
		\acro{SLAM}{Simultaneous Localization and Mapping}

			
	\end{acronym}
	\cleardoublepage
	%
	\pagestyle{plain}
	
	\chapter*{Symbolverzeichnis}
	\addcontentsline{toc}{chapter}{Symbolverzeichnis}
	
	\begin{longtable}{p{3cm}p{8cm}}
		\setlength\tabcolsep{9pt}
		Symbol & Bedeutung \\ \hline
		\endfirsthead
		Symbol & Bedeutung \\ \hline
		
		\endhead
		\toprule 
		$D_f$&Dimension der Eingangsdaten\\
		$D_k$&Dimension des Kernels\\
		$F$&veränderte Bilddaten\\
		$FN$&Anzahl aller False Positive Werte\\
		$FP$&Anzahl aller False Negative Werte\\
		$H$&Neuron einer versteckten Schicht\\
		$I$&Neuron einer Eingabeschicht\\
		$K$&Anzahl aller Klassen\\
		$N$&Tiefe der Ausgangsdaten\\
		$M$&Tiefe der Eingansdaten\\
		$O$&Neuron einer Ausgabeschicht\\
		$R_d$&Rechenaufwand bei konventioneller Faltung\\
		$R_p$&Rechenaufwand bei tiefenorientierter Faltung\\
		$TN$&Anzahl aller True Negative Werte\\
		$TP$&Anzahl aller True Positive Werte\\
		
		$b$&Bildbreite\\
		$d$&Distanz\\
		$d'$&Begrenzung der Distanz durch die Objektivebene\\
		$g$&Binärfunktion\\
		$i, j$&Neuron\\
		$k$&Knotenemenge\\
		$m$&Modusfunktion\\
		$p$&Precision\\
		$p_x$&laterale Positionskoordinate\\
		$p_x'$&Pixelkoordinate\\
		$p_y$&longitudinale Positionskooridinate\\
		$p_y'$&Begrenzung der longitudinalen Positionskoordinate durch die Objektivebene\\
		$r$&Recall\\
		$t$&Zeitschritt\\
		$x$&Bilddaten\\
		$w$&Gewichte	\\ 
		
		$\alpha$&Weitenmultiplikator\\
		$\beta$&Sichtwinkel\\
		$\gamma$&Ausgabe eines Zustandsautomats\\
		$\epsilon$&Zustand\\
		$\zeta$&Eingabe in Zustandsautomat\\
		$\rho$&Auflösungsmultiplikator\\	
		$\phi$&Transitionsfunktion\\
		$\psi$&Ausgabefunktion\\ \hline
		
		
		%-----------------------------Tabelle--------------------
		\bottomrule
	\end{longtable}
	
	
	
	\cleardoublepage
	\pagestyle{headings}
	\pagenumbering{arabic}
	\setlength{\parskip}{0.1em}
	% ----------------------------------------------------------------------------------------------------------
	% INHALT steht in "Inhaltsverzeichnis" ---------------------------------------------------------------------------------------------------
	% ----------------------------------------------------------------------------------------------------------
	\input{_content/Einleitung}
	\input{_content/Grundlagen}
	\input{_content/Konzeptionierung}
	\input{_content/Verifikation}
	\input{_content/Zusammenfassung}
	\clearpage
	
	\printbibliography[title={Quellenverzeichnis}]
	\clearpage
	
	\begin{appendix}
			\chapter{Anhang} 
			
			
			
			\section{Abbildungen} 
			\label{Abbildungen}
			
					
					
					\begin{table}[H]
						\caption{Auflistung der Zustände und der dazugehörigen Knotenmengen. Die Funktion der aufgerufenen Knoten wird in deskriptiver Form wiedergegeben.}
						\begin{center}
							
							\begin{tabular}{|m{0.2\textwidth}<{\centering}|m{0.8\textwidth}<{\centering}|}
								\hline
								
								Zustand und Knotengruppe & Deskriptive Funktion  \\ \hline \hline
								Stop ($k_0$)					&Risikominimaler Zustand. Ausschalten des \textit{ROS}-Netzwerks. Wechsel in den Zustand \textit{Warten} erfolgt nur nach manueller Quittierung. 				 \\ \cline{0-1}
								Warten ($k_1$)					&Grundfunktionen werden hochgefahren. Der \textit{LiDAR}-Sensor, die \textit{Kinect}-Sensoren, die \textit{ROS} Visualisierungssoftware und die Sprachausgabe wird eingeschaltet.				 \\ \cline{0-1}
								SLAM ($k_2$)					&Knoten für den \textit{SLAM}-Algorithmus und Statische Koordintanesysteme werden aufgerufen.  				 \\ \cline{0-1}
								Statische Karte ($k_3$)			&Einschalten des Partikelfilters für die Posenfindung durch gegebene Sensoren. 				 \\ \cline{0-1} 
								Fahren ($k_4$)					&Übergeordneter Zustand				 \\ \cline{0-1}
								Manuell ($k_5$)					&Das aus der Bachelorarbeit entwickelte Fahrprogramm wird im manuellen Modus ausgeführt \cite{Bachelorarbeit}. 				 \\ \cline{0-1}
								Autonom ($k_6$)					&Übergeordneter Zustand	 				 \\ \cline{0-1}
								Erkunden ($k_7$)				&Das aus der Bachelorarbeit entwickelte Fahrprogramm wird im autonomen Modus ausgeführt \cite{Bachelorarbeit}. Außerdem setzt eine entsprechende Applikation eine Erkundungsanwendung um. 	 				 \\ \cline{0-1}
								Ziel ($k_8$)					&Das aus der Bachelorarbeit entwickelte Fahrprogramm wird im autonomen Modus ausgeführt \cite{Bachelorarbeit}. Wird ein Ziel im \textit{ROS}-Netzwerk veröffentlicht, fährt der Roboter dieses an.					 \\
								
								
								\hline
							\end{tabular}
						\end{center}
						
						\label{fig: knotenmengen}
					\end{table}
				
				
					\begin{figure}[H]
						\centering
						\includegraphics[angle=90,width=0.9\textwidth]{Bilder/Bild.jpeg}
						\caption{Abbildung des autonomen Logistikfahrzeugs ALF.}
						\label{fig: Wirkstruktur Schlupfregelung}
					\end{figure}
					
				
				
				
					\newpage 
					
				
					
					\section{Inhalt Datenträger} 
					\label{dataCD}
					\begin{enumerate}[label=\textbf{\arabic*},ref=A.1.\arabic*]
						\item Programm
						\label{it: Software}
						\item Lastenheft
						\label{it: Lastenheft}
					\end{enumerate}
				
		
	\end{appendix}
	
	
\end{document}